@using Microsoft.Extensions.Configuration
@using System.Web;
@inject IConfiguration Configuration

<ul>
    <li>Do we already have valid access and refresh tokens? Skip to getting playlists</li>
    <li>
        Submit a login request to <a href="https://accounts.spotify.com/authorize?client_id=@Configuration["Endpoints:Spotify:ClientID"]&response_type=code&redirect_uri=@(HttpUtility.UrlEncode(Configuration["Endpoints:Spotify:Callback"]))&scope=user-read-private%20user-read-email"> Spotify </a> to login.
    </li>
    <li>Take the returned code and keep it in a session</li>
    <li>Request access and refresh tokens</li>
    <li>Store access and refresh tokens in session</li>
    <li>Get playlists</li>
    <li>Save new access token trturned by API</li>
</ul>